<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Example FieldDrop.js</title>
    <link rel="stylesheet" href="../dist/css/field-drop.css">
  </head>
  <body>
    <h1>Example FieldDrop.js</h1>
    <script type="text/javascript" src="../dist/js/field-drop.min.js"></script>
    <div class="drag-and-drop" id="image-drag-drop"></div>
    <progress value="" max=""></progress>
    <input type="file" multiple>
    <button type="button">Send</button>
    <script>
    	var formData   = new FormData(),
    			inputFile  = document.querySelector('input[type="file"]'),
    			buttonSend = document.querySelector('button[type="button"]');

    	// Instance FieldDrop
      var fieldDrop = new FieldDrop('',{
        url:'',
      });

			BendEvents();      

      function BendEvents() {
      	buttonSend.addEventListener('click',Send,false);
      	inputFile.addEventListener('change',Prepare,false);	
      }

      function Prepare(event) {
      	event.preventDefault();
        var files = event.target.files;

        for (var i = 0; i < files.length; i++) {
          formData.append("file", files[i]);
        }
      }

      function Send(event) {
        fieldDrop.sendFile(formData).then(function(res){
          var data = JSON.parse(res);
          console.log(data);
        });
      }
    </script>
  </body>
</html>
